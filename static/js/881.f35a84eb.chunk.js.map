{"version":3,"file":"static/js/881.f35a84eb.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/movies.api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Movies_searchbar__IBimh\",\"searchForm\":\"Movies_searchForm__J4-xw\",\"searchFormInputContainer\":\"Movies_searchFormInputContainer__xbcbP\",\"searchFormButton\":\"Movies_searchFormButton__C6hnw\",\"searchFormInput\":\"Movies_searchFormInput__9CWXR\",\"link\":\"Movies_link__MzAfU\",\"active\":\"Movies_active__w23gS\"};","\nimport React, { useState, useEffect } from 'react';\nimport { searchMovies } from 'services/movies.api';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { FaSearch } from 'react-icons/fa';\nimport Notiflix from 'notiflix';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movieToFind, setMovieToFind] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const searchString = new URLSearchParams(location.search).get('query');\n\n    if (searchString) {\n      const getMovies = async () => {\n        const { results } = await searchMovies(searchString);\n\n        setMovies(results);\n        setMovieToFind(searchString);\n      };\n\n      getMovies();\n    }\n  }, [location.search]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (movieToFind.trim()) {\n      const { results } = await searchMovies(movieToFind);\n\n      setMovies(results);\n      setMovieToFind('');\n\n      if (results.length === 0) {\n        Notiflix.Notify.warning(\n          'No movies found! Please change your request and try again'\n        );\n      }\n\n      navigate(`/movies`, { state: { query: movieToFind } });\n    }\n  };\n\n  return (\n    <>\n      <header className={css.searchbar}>\n        <form className={css.searchForm} onSubmit={handleSubmit}>\n          <div className={css.searchFormInputContainer}>\n            <input\n              onChange={e => setMovieToFind(e.target.value)}\n              className={css.searchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movie\"\n              value={movieToFind}\n            />\n            <button type=\"submit\" className={css.searchFormButton}>\n              <FaSearch className={css.searchIcon} />\n            </button>\n          </div>\n        </form>\n      </header>\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title, poster_path }) => (\n            <li key={id}>\n              <Link\n                to={{\n                  pathname: `/movies/${id}`,\n                  state: {\n                    from: location,\n                  },\n                }}\n              >\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w300${poster_path}`\n                      : 'https://pomogaetsrazu.ru/images/offers/2829219234.jpg'\n                  }\n                  alt={title}\n                />\n                <p>{title}</p>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","// import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\n// const API_KEY = '81a8869c255f2e2cdd160d2494e708bd';\n// export const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\n// export const searchMovies = async stringToSearch => {\n//   const queryString = `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n//   const { data: movies } = await axios.get(queryString);\n//   return movies;\n// };\n\n// export const getMovieDetails = async movieId => {\n//   const queryString = `movie/${movieId}$?api_key=${API_KEY}&language=en-US`;\n//   const { data: movie } = await axios.get(queryString);\n//   return movie;\n// };\n\n// export const fetchTrendingMovies = async () => {\n//   const queryString = `trending/movie/day?api_key=${API_KEY}`;\n//   const { data: movies } = await axios.get(queryString);\n//   return movies;\n// };\n\n// export const getMovieCast = async movieId => {\n//   const queryString = `movie/${movieId}/credits$?api_key={apiKey}&language=en-US`;\n//   const { data } = await axios.get(queryString);\n//   return data;\n// };\n\n// export const getReviews = async movieId => {\n//   const queryString = `movie/${movieId}/reviews$?api_key={apiKey}&language=en-US`;\n//   const { data } = await axios.get(queryString);\n//   return data;\n// };\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst API_KEY = '81a8869c255f2e2cdd160d2494e708bd';\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const searchMovies = async stringToSearch => {\n  const queryString = `search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n  const { data: movies } = await axios.get(queryString);\n  return movies;\n};\n\nexport const getMovieDetails = async movieId => {\n  const queryString = `movie/${movieId}$?api_key=${API_KEY}&language=en-US`;\n  const { data: movie } = await axios.get(queryString);\n  return movie;\n};\n\nexport const fetchTrendingMovies = async () => {\n  const queryString = `trending/movie/day?api_key=${API_KEY}`;\n  const { data: movies } = await axios.get(queryString);\n  return movies;\n};\n\nexport const getMovieCast = async movieId => {\n  const queryString = `movie/${movieId}/credits$?api_key={apiKey}&language=en-US`;\n  const { data } = await axios.get(queryString);\n  return data;\n};\n\nexport const getReviews = async movieId => {\n  const queryString = `movie/${movieId}/reviews$?api_key={apiKey}&language=en-US`;\n  const { data } = await axios.get(queryString);\n  return data;\n};"],"names":["useState","movieToFind","setMovieToFind","movies","setMovies","location","useLocation","navigate","useNavigate","useEffect","searchString","URLSearchParams","search","get","getMovies","searchMovies","results","handleSubmit","e","preventDefault","trim","length","Notiflix","state","query","className","css","onSubmit","onChange","target","value","type","autoComplete","autoFocus","placeholder","map","id","title","poster_path","to","pathname","from","src","alt","axios","API_KEY","IMAGE_URL","stringToSearch","queryString","data","getMovieDetails","movieId","movie","fetchTrendingMovies","getMovieCast","getReviews"],"sourceRoot":""}